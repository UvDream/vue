<template>
  <div id="map"></div>
</template>

<script>
import * as ZTMAP from "ztmap";

function drawLineAndPolygon(map, data, icon, width, height, center, name) {
  const geojsonPolygon = ZTMAP.GeoJSON.generatePolygon([data]);
  const polygonLayer = new ZTMAP.Layer(
    geojsonPolygon,
    {},
    {
      "fill-color": "#3bb2d0",
      "fill-outline-color": "#3bb2d0",
      "fill-opacity": 0.1
    }
  );
  polygonLayer.addTo(map);
  const el = document.createElement("div");
  el.id = "marker-" + icon;
  el.style.backgroundImage = `url(./images/icon/${icon}.png)`;
  el.style.width = width;
  el.style.height = height;
  const marker = new ZTMAP.HtmlMarker(el, center, { draggable: false });
  marker.addTo(map);
  el.addEventListener("click", () => {
    if (window.parent) {
      window.parent.postMessage(name, "http://50.78.138.6:7099");
    }
  });
}
export default {
  mounted() {
    let _this = this;
    ZTMAP.MAPSTYLE.MAPURL = _this.$store.state.outerMapUrl;
    ZTMAP.MAPSTYLE.MAPFONTSURL =
      location.origin + _this.$store.state.mapFontsUrl;
    ZTMAP.MAPSTYLE.MAPSPRITEURL =
      location.origin + _this.$store.state.mapSpriteUrl;
    ZTMAP.MAPSTYLE.STYLE = ZTMAP.MAPBASICLAYERSTYLE.KAILIDE_DARK;

    const map = new ZTMAP.Map({
      container: "map",
      center: [120.99444786781726, 31.448474728362854],
      zoom: 13.341404548841837,
      pitch: 50
    });
    map.on("load", () => {
      // map.addDebugControl();
      let data = [
        {
          data: [
            [120.99869553445393, 31.469688069102986],
            [120.99702147956367, 31.468721075403778],
            [120.99676840607458, 31.46862457914378],
            [120.99721193578972, 31.468140827891517],
            [120.99697643154451, 31.467924954180532],
            [120.99756430594488, 31.467216609367014],
            [120.99808154161275, 31.4667772672896],
            [120.99863800220317, 31.467319996281518],
            [120.99952620491251, 31.467960354411474],
            [120.99964780783819, 31.46813395517013],
            [120.99962962524847, 31.468457883366582],
            [120.99951459407998, 31.46869793326198],
            [120.99922464126422, 31.469133332911255],
            [120.99869553445393, 31.469688069102986]
          ],
          icon: "icon3",
          width: "149px",
          height: "109px",
          center: [120.99837922507027, 31.467860334461136],
          name: "zszxxx"
        },
        {
          data: [
            [120.9870843357321, 31.46227503366461],
            [120.98641148526548, 31.458731567215224],
            [120.98909313567464, 31.458981111495078],
            [120.99060461136025, 31.45892288455805],
            [120.99189180354796, 31.461825869284226],
            [120.9870843357321, 31.46227503366461]
          ],
          icon: "icon1",
          width: "149px",
          height: "109px",
          center: [120.98874043453816, 31.46023507349709],
          name: "hsyt"
        },
        {
          data: [
            [121.00516890401582, 31.454178277327273],
            [121.00551330192042, 31.44937895298925],
            [121.009046841557, 31.44916360096596],
            [121.01102564322059, 31.449028127391088],
            [121.01673244848246, 31.44871180127251],
            [121.01642811498232, 31.4528380113113],
            [121.0162815132935, 31.453044682237945],
            [121.01580754342342, 31.45314764060916],
            [121.01437585682447, 31.45330046545351],
            [121.01420703165576, 31.453348360165023],
            [121.01131035908338, 31.453664529116892],
            [121.00960884012437, 31.45383251783103],
            [121.00647742630213, 31.45413048817487],
            [121.00591212837458, 31.454143418972464],
            [121.00516890401582, 31.454178277327273]
          ],
          icon: "icon2",
          width: "240px",
          height: "109px",
          center: [121.01101297650985, 31.451105926705637],
          name: "smjm"
        }
      ];
      data.map(val => {
        let { data, icon, width, height, center, name } = val;
        drawLineAndPolygon(map, data, icon, width, height, center, name);
      });
      let data1 = [
        [120.966965, 31.498952],
        [120.96712, 31.498683],
        [120.967455, 31.498139],
        [120.967635, 31.497868999999998],
        [120.96782, 31.497605],
        [120.968194, 31.497107999999997],
        [120.968554, 31.496664],
        [120.96888, 31.496336999999997],
        [120.96903, 31.496207],
        [120.969177, 31.496101],
        [120.96932699999999, 31.496019999999998],
        [120.96956, 31.495934],
        [120.969833, 31.495914],
        [120.970036, 31.495922],
        [120.970446, 31.49598],
        [120.970769, 31.496049],
        [120.97133, 31.496184],
        [120.971585, 31.496254999999998],
        [120.971851, 31.496323999999998],
        [120.972105, 31.496385999999998],
        [120.972343, 31.496439],
        [120.972567, 31.496478],
        [120.972778, 31.496502],
        [120.972979, 31.496502],
        [120.97317100000001, 31.496489999999998],
        [120.973359, 31.496447999999997],
        [120.973543, 31.496378999999997],
        [120.973726, 31.496278999999998],
        [120.97391, 31.496147999999998],
        [120.974285, 31.495825999999997],
        [120.974476, 31.495656],
        [120.974868, 31.495351],
        [120.975071, 31.495236],
        [120.975278, 31.495158999999997],
        [120.97549000000001, 31.495127999999998],
        [120.975706, 31.495134999999998],
        [120.97592399999999, 31.495168],
        [120.97614300000001, 31.495217],
        [120.976361, 31.495269999999998],
        [120.97657699999999, 31.495314999999998],
        [120.97679, 31.495341],
        [120.976997, 31.495338],
        [120.977199, 31.495296],
        [120.97739899999999, 31.495224999999998],
        [120.97760099999999, 31.495134],
        [120.978032, 31.494939],
        [120.978268, 31.494857],
        [120.978526, 31.494798999999997],
        [120.978809, 31.494777],
        [120.97912, 31.494801],
        [120.979462, 31.494868999999998],
        [120.979833, 31.494981],
        [120.980235, 31.495136],
        [120.980668, 31.495331],
        [120.981132, 31.495565],
        [120.981628, 31.495838],
        [120.982155, 31.496146],
        [120.98271199999999, 31.496429],
        [120.983294, 31.496789999999997],
        [120.984498, 31.497508999999997],
        [120.985104, 31.497836999999997],
        [120.985703, 31.498124999999998],
        [120.986286, 31.498357],
        [120.986846, 31.498517999999997],
        [120.987375, 31.498597],
        [120.987871, 31.498600999999997],
        [120.988332, 31.49854],
        [120.98875699999999, 31.498424999999997],
        [120.989144, 31.498267],
        [120.989492, 31.498075],
        [120.98979800000001, 31.497861999999998],
        [120.990061, 31.497636],
        [120.990283, 31.497408999999998],
        [120.990477, 31.49719],
        [120.99065999999999, 31.496987999999998],
        [120.99085099999999, 31.496810999999997],
        [120.991064, 31.496668999999997],
        [120.991319, 31.496571],
        [120.991631, 31.496525],
        [120.992018, 31.49654],
        [120.99249, 31.496620999999998],
        [120.993033, 31.496753],
        [120.994253, 31.497085],
        [120.99486999999999, 31.497245999999997],
        [120.995482, 31.497377999999998],
        [120.99605700000001, 31.497459],
        [120.996575, 31.497469],
        [120.99701999999999, 31.497396],
        [120.9974, 31.497249999999998],
        [120.997727, 31.497051],
        [120.998015, 31.496816],
        [120.998537, 31.496312],
        [120.998774, 31.49608],
        [120.99903499999999, 31.495884999999998],
        [120.99932, 31.495741],
        [120.999625, 31.495641],
        [120.999944, 31.495573],
        [121.000271, 31.495523],
        [121.0006, 31.495480999999998],
        [121.000924, 31.495434999999997],
        [121.001239, 31.495371],
        [121.001538, 31.495278],
        [121.001815, 31.495147],
        [121.002076, 31.494984],
        [121.00231600000001, 31.494805999999997],
        [121.002544, 31.494618],
        [121.002762, 31.494432999999997],
        [121.002973, 31.494260999999998],
        [121.003383, 31.494003],
        [121.00358800000001, 31.493935999999998],
        [121.003791, 31.493907999999998],
        [121.003992, 31.493910999999997],
        [121.004187, 31.493938],
        [121.004422, 31.493990999999998],
        [121.004715, 31.49408],
        [121.004865, 31.494121999999997],
        [121.004998, 31.494151],
        [121.005223, 31.494176999999997],
        [121.00540000000001, 31.494186],
        [121.005602, 31.494207999999997],
        [121.00581199999999, 31.494335],
        [121.005906, 31.494387999999997],
        [121.006011, 31.494436999999998],
        [121.006133, 31.494474],
        [121.00627399999999, 31.494493],
        [121.006438, 31.494486],
        [121.006629, 31.494448],
        [121.00684799999999, 31.494373999999997],
        [121.00709, 31.494270999999998],
        [121.007346, 31.494149999999998],
        [121.00761, 31.49402],
        [121.007873, 31.493890999999998],
        [121.008127, 31.493774],
        [121.008365, 31.493679],
        [121.008579, 31.493615],
        [121.008762, 31.493589999999998],
        [121.008985, 31.493606999999997],
        [121.009163, 31.493741],
        [121.009209, 31.493941999999997],
        [121.009126, 31.494151],
        [121.00873899999999, 31.494500000000002],
        [121.008508, 31.494687],
        [121.008346, 31.494873],
        [121.00831, 31.494967],
        [121.008306, 31.495058999999998],
        [121.008332, 31.495147],
        [121.008386, 31.495227999999997],
        [121.008465, 31.4953],
        [121.008568, 31.495359999999998],
        [121.008692, 31.495404999999998],
        [121.008994, 31.495441],
        [121.009165, 31.495431999999997],
        [121.009342, 31.495409],
        [121.009518, 31.495373999999998],
        [121.009689, 31.495331999999998],
        [121.00984700000001, 31.495282999999997],
        [121.00998899999999, 31.495233],
        [121.010198, 31.495134999999998],
        [121.010266, 31.495089999999998],
        [121.01031499999999, 31.495046],
        [121.010352, 31.495002999999997],
        [121.01047299999999, 31.494811],
        [121.010615, 31.4947],
        [121.01077699999999, 31.494653999999997],
        [121.010971, 31.494705],
        [121.011174, 31.494891],
        [121.011356, 31.495165999999998],
        [121.011737, 31.495773999999997],
        [121.012023, 31.496128],
        [121.012337, 31.496333],
        [121.0125, 31.496367999999997],
        [121.012662, 31.496367],
        [121.012817, 31.496335],
        [121.012962, 31.496278999999998],
        [121.01309, 31.496207],
        [121.013198, 31.496125],
        [121.013281, 31.496039999999997],
        [121.013335, 31.495956999999997],
        [121.013379, 31.495798999999998],
        [121.01338, 31.495596],
        [121.013406, 31.495433],
        [121.013597, 31.495241999999998],
        [121.013729, 31.495092],
        [121.01377600000001, 31.495006999999998],
        [121.013802, 31.494915],
        [121.013798, 31.494812999999997],
        [121.01375999999999, 31.4947],
        [121.013604, 31.494438],
        [121.01338799999999, 31.49412],
        [121.013283, 31.493938999999997],
        [121.013183, 31.493741],
        [121.013099, 31.493527],
        [121.013036, 31.493295999999997],
        [121.012993, 31.493050999999998],
        [121.012966, 31.492800000000003],
        [121.01293799999999, 31.492295],
        [121.01293, 31.492051],
        [121.012919, 31.491820999999998],
        [121.012903, 31.491608999999997],
        [121.012879, 31.491418999999997],
        [121.012855, 31.491245],
        [121.012842, 31.491079],
        [121.012852, 31.490916],
        [121.012896, 31.490745999999998],
        [121.012984, 31.490564],
        [121.013127, 31.490361999999998],
        [121.013336, 31.490133],
        [121.013927, 31.489584999999998],
        [121.014335, 31.489282],
        [121.014731, 31.488972999999998],
        [121.015125, 31.488666],
        [121.015499, 31.488372],
        [121.015832, 31.488100000000003],
        [121.016104, 31.487858],
        [121.016303, 31.487652999999998],
        [121.016437, 31.487478999999997],
        [121.016522, 31.487325],
        [121.016626, 31.487039999999997],
        [121.01664099999999, 31.48689],
        [121.01668699999999, 31.486721],
        [121.01684900000001, 31.486293],
        [121.017033, 31.486037],
        [121.017223, 31.485768999999998],
        [121.017443, 31.485502],
        [121.017953, 31.485025999999998],
        [121.018233, 31.484842999999998],
        [121.018523, 31.484713],
        [121.01881900000001, 31.484645999999998],
        [121.019117, 31.484631],
        [121.019416, 31.484655],
        [121.019713, 31.484700999999998],
        [121.020005, 31.484757],
        [121.02029, 31.484807],
        [121.020566, 31.484837],
        [121.02083, 31.484833],
        [121.02107699999999, 31.484782],
        [121.021294, 31.484683999999998],
        [121.021466, 31.484541],
        [121.021576, 31.484354999999997],
        [121.02161, 31.484128],
        [121.021551, 31.483863],
        [121.021385, 31.483560999999998],
        [121.021095, 31.483224999999997],
        [121.02015, 31.482397],
        [121.01892, 31.48164],
        [121.018283, 31.481223999999997],
        [121.01767699999999, 31.480817],
        [121.017135, 31.480425],
        [121.016879, 31.480182],
        [121.016719, 31.479978],
        [121.016373, 31.479722],
        [121.016165, 31.479416999999998],
        [121.016048, 31.479138],
        [121.016004, 31.478893],
        [121.016009, 31.478671],
        [121.016044, 31.478474],
        [121.016088, 31.478301],
        [121.01608999999999, 31.478295],
        [121.016129, 31.478016999999998],
        [121.016129, 31.478013999999998],
        [121.016129, 31.478012999999997],
        [121.015992, 31.477532],
        [121.015991, 31.477525999999997],
        [121.015954, 31.477387999999998],
        [121.01593, 31.477218999999998],
        [121.015929, 31.477149999999998],
        [121.015927, 31.477017999999997],
        [121.015951, 31.476781],
        [121.015994, 31.476513999999998],
        [121.016048, 31.476226999999998],
        [121.016104, 31.475928],
        [121.016139, 31.475709],
        [121.016153, 31.475627],
        [121.01618500000001, 31.475333],
        [121.016192, 31.475054999999998],
        [121.016165, 31.474802999999998],
        [121.016152, 31.47476],
        [121.016098, 31.474581999999998],
        [121.016006, 31.474407999999997],
        [121.015997, 31.47439],
        [121.015996, 31.474389],
        [121.01574, 31.474076999999998],
        [121.015733, 31.474069999999998],
        [121.015655, 31.473993],
        [121.015451, 31.473793999999998],
        [121.01545, 31.473792],
        [121.015328, 31.473657999999997],
        [121.01522800000001, 31.473515],
        [121.01516, 31.473363],
        [121.015119, 31.473201],
        [121.015118, 31.473198999999997],
        [121.015117, 31.473188999999998],
        [121.015094, 31.473028],
        [121.01508, 31.472852],
        [121.015069, 31.472680999999998],
        [121.015068, 31.472672],
        [121.015018, 31.472317],
        [121.015017, 31.47231],
        [121.014963, 31.472133999999997],
        [121.014881, 31.471961999999998],
        [121.014776, 31.471795],
        [121.01465400000001, 31.471629999999998],
        [121.01459, 31.471548],
        [121.014524, 31.471466],
        [121.014392, 31.471300000000003],
        [121.014265, 31.471134],
        [121.01415, 31.470962999999998],
        [121.014106, 31.470882],
        [121.014054, 31.470788],
        [121.013982, 31.470606],
        [121.013933, 31.470422],
        [121.013899, 31.470243999999997],
        [121.013898, 31.470239],
        [121.013891, 31.470184],
        [121.013875, 31.470060999999998],
        [121.01386, 31.469890999999997],
        [121.013845, 31.469735999999997],
        [121.01383200000001, 31.469625999999998],
        [121.013828, 31.469596],
        [121.013802, 31.469476999999998],
        [121.013765, 31.469382],
        [121.013665, 31.469244999999997],
        [121.013621, 31.469206999999997],
        [121.013608, 31.469196],
        [121.01357999999999, 31.469174],
        [121.013509, 31.469116999999997],
        [121.013479, 31.469088],
        [121.01343299999999, 31.469040999999997],
        [121.013416, 31.468984],
        [121.01339899999999, 31.468930999999998],
        [121.013386, 31.468795999999998],
        [121.01338200000001, 31.468759],
        [121.013376, 31.468712],
        [121.013358, 31.468626999999998],
        [121.013342, 31.468583],
        [121.01327599999999, 31.468465],
        [121.01321899999999, 31.46841],
        [121.013201, 31.468393],
        [121.013098, 31.468331],
        [121.01308399999999, 31.468324],
        [121.01282499999999, 31.468214],
        [121.012681, 31.468155999999997],
        [121.012529, 31.468087999999998],
        [121.012384, 31.468006],
        [121.01225099999999, 31.467907],
        [121.01213899999999, 31.467786],
        [121.012117, 31.467748],
        [121.012051, 31.46764],
        [121.011985, 31.467473],
        [121.01193, 31.467294],
        [121.01187999999999, 31.467108],
        [121.011685, 31.46659],
        [121.011353, 31.466285],
        [121.011113, 31.46616],
        [121.010924, 31.466064999999997],
        [121.01086699999999, 31.466032],
        [121.010741, 31.465958999999998],
        [121.010567, 31.465826],
        [121.010515, 31.465768999999998],
        [121.01041000000001, 31.465657],
        [121.010351, 31.465556999999997],
        [121.010279, 31.465439],
        [121.010181, 31.465166],
        [121.010116, 31.464848999999997],
        [121.010084, 31.464502],
        [121.010084, 31.464142],
        [121.010115, 31.463780999999997],
        [121.010147, 31.463604999999998],
        [121.010177, 31.463437],
        [121.010179, 31.463431],
        [121.01026999999999, 31.463122],
        [121.010391, 31.462853],
        [121.010541, 31.462639999999997],
        [121.010711, 31.462469],
        [121.010891, 31.462328],
        [121.010892, 31.462325999999997],
        [121.011253, 31.462059999999997],
        [121.01126, 31.462054],
        [121.011427, 31.461893999999997],
        [121.011574, 31.461692],
        [121.011691, 31.461436],
        [121.011726, 31.461302999999997],
        [121.011775, 31.461109999999998],
        [121.01182, 31.460862],
        [121.011844, 31.460722999999998],
        [121.01192, 31.460283999999998],
        [121.012023, 31.459804],
        [121.01209, 31.459584999999997],
        [121.012179, 31.459291],
        [121.012407, 31.458758],
        [121.012731, 31.458213999999998],
        [121.013173, 31.457670999999998],
        [121.013326, 31.457528],
        [121.013747, 31.457136],
        [121.014434, 31.456618],
        [121.01491899999999, 31.456308],
        [121.015208, 31.456122999999998],
        [121.016042, 31.455657],
        [121.016906, 31.455226999999997],
        [121.01710299999999, 31.455139],
        [121.017775, 31.454839],
        [121.018624, 31.454500000000003],
        [121.01901, 31.454362999999997],
        [121.019423, 31.454216],
        [121.02015, 31.453989999999997],
        [121.020806, 31.453816999999997],
        [121.021284, 31.453654],
        [121.021904, 31.453591],
        [121.02192, 31.453588],
        [121.023301, 31.453314],
        [121.02360999999999, 31.453293],
        [121.023909, 31.453103],
        [121.023973, 31.452968],
        [121.023977, 31.452797],
        [121.023794, 31.452330999999997],
        [121.023603, 31.452022999999997],
        [121.023504, 31.451884999999997],
        [121.023344, 31.451662],
        [121.023028, 31.451259],
        [121.022665, 31.450829],
        [121.022661, 31.450825],
        [121.020557, 31.448800000000002],
        [121.020553, 31.448797],
        [121.02049099999999, 31.448753999999997],
        [121.020151, 31.448514999999997],
        [121.019774, 31.448282],
        [121.01943, 31.448086999999997],
        [121.01912899999999, 31.447919],
        [121.01912300000001, 31.447916],
        [121.019049, 31.447872],
        [121.018856, 31.447757],
        [121.018636, 31.447597],
        [121.018467, 31.447422999999997],
        [121.01835299999999, 31.447222999999997],
        [121.018297, 31.446984999999998],
        [121.018292, 31.446713],
        [121.018326, 31.446409],
        [121.018391, 31.446075999999998],
        [121.018453, 31.445809999999998],
        [121.018474, 31.445719999999998],
        [121.018568, 31.445342999999998],
        [121.018661, 31.44495],
        [121.018663, 31.44494],
        [121.018808, 31.444129999999998],
        [121.018835, 31.443907999999997],
        [121.018858, 31.443714],
        [121.018885, 31.443461],
        [121.018902, 31.443303],
        [121.01890399999999, 31.443292],
        [121.018947, 31.442905],
        [121.019, 31.442545],
        [121.019002, 31.442528],
        [121.01905, 31.442286],
        [121.019072, 31.442178],
        [121.019165, 31.441861999999997],
        [121.019288, 31.441591],
        [121.019289, 31.441588999999997],
        [121.019448, 31.441360999999997],
        [121.019519, 31.441288999999998],
        [121.01963599999999, 31.441170999999997],
        [121.019846, 31.441007],
        [121.020294, 31.440704999999998],
        [121.020516, 31.440555],
        [121.020724, 31.440379],
        [121.020809, 31.440284],
        [121.02091, 31.44017],
        [121.021004, 31.440023999999998],
        [121.021069, 31.439922],
        [121.02112, 31.439811],
        [121.021199, 31.439636999999998],
        [121.021245, 31.439501999999997],
        [121.021306, 31.439325],
        [121.021389, 31.438990999999998],
        [121.021453, 31.438644],
        [121.021478, 31.438456],
        [121.0215, 31.43829],
        [121.021518, 31.438100000000002],
        [121.021533, 31.437939],
        [121.021542, 31.437787999999998],
        [121.021553, 31.437597],
        [121.021566, 31.437269999999998],
        [121.021578, 31.436971],
        [121.021578, 31.436963],
        [121.021579, 31.436957999999997],
        [121.021599, 31.436678999999998],
        [121.021637, 31.436422],
        [121.021637, 31.436418],
        [121.021638, 31.436417],
        [121.021702, 31.436185],
        [121.021801, 31.435983],
        [121.02194399999999, 31.435812],
        [121.02214000000001, 31.435678],
        [121.022303, 31.435615],
        [121.022395, 31.435578999999997],
        [121.022798, 31.435447],
        [121.02338499999999, 31.435405],
        [121.024073, 31.435291],
        [121.02409399999999, 31.435287],
        [121.024422, 31.435197],
        [121.02471299999999, 31.435070999999997],
        [121.024957, 31.434901999999997],
        [121.02496, 31.434897999999997],
        [121.025349, 31.434469999999997],
        [121.02535, 31.434468],
        [121.025529, 31.434222],
        [121.025542, 31.434205],
        [121.025922, 31.433683],
        [121.026126, 31.433536],
        [121.026166, 31.433498],
        [121.026451, 31.433301999999998],
        [121.026461, 31.433294999999998],
        [121.026632, 31.433211999999997],
        [121.026816, 31.433124],
        [121.02722, 31.432987999999998],
        [121.02731299999999, 31.432965],
        [121.027657, 31.432882],
        [121.02811, 31.432805],
        [121.028407, 31.432772],
        [121.028564, 31.432754],
        [121.029001, 31.432727],
        [121.029405, 31.432720999999997],
        [121.029752, 31.432734999999997],
        [121.02976, 31.432734999999997],
        [121.029766, 31.432736],
        [121.030054, 31.432765],
        [121.030293, 31.432807999999998],
        [121.030485, 31.432862999999998],
        [121.030643, 31.432924],
        [121.030775, 31.432989],
        [121.03089, 31.433055],
        [121.031001, 31.433118],
        [121.031241, 31.433224],
        [121.031245, 31.433225],
        [121.03125, 31.433227],
        [121.031555, 31.433300000000003],
        [121.031559, 31.433301],
        [121.031753, 31.433328999999997],
        [121.03187199999999, 31.433342],
        [121.031976, 31.433353],
        [121.032843, 31.433404],
        [121.03295, 31.433408],
        [121.033634, 31.433432],
        [121.034424, 31.433459],
        [121.03466, 31.433472],
        [121.034921, 31.433484],
        [121.035268, 31.433505999999998],
        [121.035335, 31.43351],
        [121.035364, 31.433512],
        [121.035721, 31.433539999999997],
        [121.036045, 31.433574999999998],
        [121.036067, 31.433577],
        [121.03608299999999, 31.43358],
        [121.03636399999999, 31.433621],
        [121.036618, 31.43367],
        [121.036621, 31.433670999999997],
        [121.03702200000001, 31.433747999999998],
        [121.037335, 31.433871],
        [121.037615, 31.433940999999997],
        [121.037616, 31.433940999999997],
        [121.037911, 31.433964999999997],
        [121.037914, 31.433964999999997],
        [121.038246, 31.43393],
        [121.038624, 31.433823],
        [121.039059, 31.433629],
        [121.03930000000001, 31.433495999999998],
        [121.032622, 31.431214999999998],
        [121.02841, 31.428717],
        [121.02769599999999, 31.425289999999997],
        [121.010174, 31.424614],
        [120.975802, 31.422296],
        [120.975928, 31.422583999999997],
        [120.974575, 31.422798],
        [120.972895, 31.423018],
        [120.972934, 31.424232999999997],
        [120.972992, 31.426292],
        [120.974167, 31.426301],
        [120.974223, 31.426319999999997],
        [120.974457, 31.428265],
        [120.974237, 31.429547999999997],
        [120.97377399999999, 31.431407],
        [120.97326, 31.4315],
        [120.970418, 31.431134],
        [120.966353, 31.430612],
        [120.96644599999999, 31.434919999999998],
        [120.965078, 31.437566999999998],
        [120.96484, 31.440421999999998],
        [120.954588, 31.440136],
        [120.95461, 31.446134999999998],
        [120.954192, 31.449209],
        [120.95404500000001, 31.45171],
        [120.953733, 31.452544],
        [120.953588, 31.452769999999997],
        [120.950296, 31.456750999999997],
        [120.949463, 31.459070999999998],
        [120.949701, 31.460736999999998],
        [120.94500099999999, 31.460396],
        [120.94139799999999, 31.460241999999997],
        [120.940927, 31.468753],
        [120.939939, 31.469900000000003],
        [120.93996, 31.470392999999998],
        [120.93977699999999, 31.477693],
        [120.939404, 31.481206],
        [120.939341, 31.481486999999998],
        [120.939315, 31.481603],
        [120.942151, 31.482104999999997],
        [120.94718, 31.483090999999998],
        [120.955249, 31.484461],
        [120.95766499999999, 31.484927],
        [120.95746, 31.488131],
        [120.954849, 31.496837],
        [120.95577, 31.498227999999997],
        [120.956329, 31.500059],
        [120.95634799999999, 31.500116],
        [120.956589, 31.500121999999998],
        [120.956827, 31.500124999999997],
        [120.957054, 31.500121],
        [120.957263, 31.500110999999997],
        [120.957446, 31.50009],
        [120.957596, 31.500055999999997],
        [120.957708, 31.500009],
        [120.957786, 31.499948999999997],
        [120.957837, 31.499879],
        [120.957867, 31.4998],
        [120.957884, 31.499713999999997],
        [120.957908, 31.499468999999998],
        [120.957959, 31.499298],
        [120.958058, 31.499125999999997],
        [120.958189, 31.498987],
        [120.958378, 31.498873],
        [120.958617, 31.498879],
        [120.958794, 31.498995999999998],
        [120.958905, 31.499139],
        [120.958975, 31.499315],
        [120.959047, 31.499613],
        [120.959118, 31.499855],
        [120.959234, 31.500096],
        [120.95942, 31.500321999999997],
        [120.959684, 31.500528],
        [120.959845, 31.500622999999997],
        [120.960028, 31.500712],
        [120.96023199999999, 31.500794],
        [120.96045699999999, 31.500868999999998],
        [120.960702, 31.500936999999997],
        [120.960962, 31.500999],
        [120.961227, 31.501056],
        [120.96149199999999, 31.501109],
        [120.961747, 31.50116],
        [120.961985, 31.501209],
        [120.962198, 31.501258999999997],
        [120.962379, 31.50131],
        [120.962638, 31.501406],
        [120.96286599999999, 31.501582],
        [120.963024, 31.50168],
        [120.963131, 31.501723],
        [120.963266, 31.501759999999997],
        [120.963426, 31.501789],
        [120.963706, 31.501818],
        [120.964012, 31.501807],
        [120.964226, 31.501783],
        [120.96444199999999, 31.501738999999997],
        [120.964655, 31.501675],
        [120.964861, 31.501586999999997],
        [120.965059, 31.501478],
        [120.965249, 31.501348],
        [120.96543199999999, 31.501198],
        [120.965608, 31.501030999999998],
        [120.965777, 31.500847],
        [120.96593899999999, 31.500649],
        [120.966094, 31.500435999999997],
        [120.966244, 31.500211],
        [120.96647300000001, 31.499837999999997],
        [120.96681699999999, 31.499216999999998],
        [120.966965, 31.498952]
      ];

      const geoLineString = ZTMAP.GeoJSON.generateLineString(data1);
      const lineStringLayer = new ZTMAP.Layer(
        geoLineString,
        {},
        {
          "line-color": "#3bb2d0",
          "line-width": 8
        }
      );
      lineStringLayer.addTo(map);
      const el = document.createElement("div");
      el.id = "marker";
      el.style.backgroundImage = "url(./images/icon/icon5.png)";
      el.style.width = "240px";
      el.style.height = "97px";
      const marker = new ZTMAP.HtmlMarker(el, [121.0112746623, 31.4802199136], {
        draggable: false
      });
      marker.addTo(map);
    });
  }
};
</script>
